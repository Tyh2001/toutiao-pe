{"version":3,"sources":["webpack:///./src/views/userChat/index.vue?0fa0","webpack:///./src/views/userChat/index.vue?f62b","webpack:///src/views/userChat/index.vue","webpack:///./src/views/userChat/index.vue?5de1","webpack:///./src/views/userChat/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","$event","$router","back","staticClass","_l","msg","index","key","scopedSlots","_u","fn","onSend","_v","proxy","model","value","callback","$$v","text","expression","staticRenderFns","name","data","socket","messages","created","methods","push","component"],"mappings":"kHAAA,W,kECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,aAAa,CAACF,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,OAAO,aAAa,IAAIC,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAOR,EAAIS,QAAQC,WAAWN,EAAG,iBAAiB,CAACO,YAAY,gBAAgBX,EAAIY,GAAIZ,EAAY,UAAE,SAASa,EAAIC,GAAO,OAAOV,EAAG,WAAW,CAACW,IAAID,EAAMR,MAAM,CAAC,MAAQO,QAAS,GAAGT,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,GAAG,UAAY,IAAIU,YAAYhB,EAAIiB,GAAG,CAAC,CAACF,IAAI,SAASG,GAAG,WAAW,MAAO,CAACd,EAAG,aAAa,CAACE,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAWC,GAAG,CAAC,MAAQP,EAAImB,SAAS,CAACnB,EAAIoB,GAAG,UAAUC,OAAM,KAAQC,MAAM,CAACC,MAAOvB,EAAQ,KAAEwB,SAAS,SAAUC,GAAMzB,EAAI0B,KAAKD,GAAKE,WAAW,WAAW,IACjsBC,EAAkB,GCuCtB,GACEC,KAAM,WACNC,KAFF,WAGI,MAAO,CACLJ,KAAM,GACNK,OAAQ,KACRC,SAAU,KAGdC,QATF,aAqDEC,QAAS,CAEPf,OAFJ,WA4BMlB,KAAK+B,SAASG,KAAKlC,KAAKyB,MAGxBzB,KAAKyB,KAAO,MC5H4U,I,wBCQ1VU,EAAY,eACd,EACArC,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAAQ,E","file":"js/chunk-766bab87.84e4c469.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2bcfffb9&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"userChat\"}},[_c('van-nav-bar',{attrs:{\"title\":\"小智同学\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('van-cell-group',{staticClass:\"vanCellGroup\"},_vm._l((_vm.messages),function(msg,index){return _c('van-cell',{key:index,attrs:{\"value\":msg}})}),1),_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.onSend}},[_vm._v(\"发送\")])]},proxy:true}]),model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"userChat\">\n    <!-- 小智同学页面 -->\n    <!-- 顶部导航栏 -->\n    <van-nav-bar\n      title=\"小智同学\"\n      left-arrow\n      @click-left=\"$router.back()\"\n    />\n\n    <!-- 中间的聊天内容 -->\n    <van-cell-group class=\"vanCellGroup\">\n      <!-- 聊天内容遍历 -->\n      <van-cell\n        v-for=\"(msg, index) in messages\"\n        :key=\"index\"\n        :value=\"msg\"\n      />\n    </van-cell-group>\n\n    <!-- 下方文本框 -->\n    <van-field\n      v-model=\"text\"\n      center\n      clearable\n    >\n      <template #button>\n        <van-button\n          size=\"small\"\n          type=\"primary\"\n          @click=\"onSend\"\n        >发送</van-button>\n      </template>\n    </van-field>\n  </div>\n</template>\n\n<script>\n// 引入 socket.io 用来实时通信\n// import io from 'socket.io-client'\nexport default {\n  name: 'userChat',\n  data () {\n    return {\n      text: '', // 文本框输入的内容\n      socket: null, // WebSocket 通信对象\n      messages: [] // 消息列表\n    }\n  },\n  created () {\n    // 建立连接 连接地址要看接口文档的地址\n\n    // <--------------分割线 - 上-------------->\n    // 小智同学功能接口暂时不能实现 中间注释内容为写好内 由于接口问题 功能暂不能实现\n    // 出错时间**2021-02-10**\n\n    // 这个地址路径有问题 功能不能实现 地址改好后可使用\n    // const socket = io('http://ttapi.research.itcast.cn/')\n\n    // this.socket = socket\n\n    // // 连接建立成功会触发 connect 这个回调\n    // socket.on('connect', function () {\n    //   console.log('连接建立成功')\n    // })\n\n    // // 这个没啥用\n    // // socket.on('evnt', function (data) {})\n\n    // // 断开连接会触发 disconnect 这个回调\n    // socket.on('disconnect', function () {\n    //   console.log('断开连接了')\n    // })\n\n    // // 监听 message 事件 接收服务端的消息\n    // // 这里的 message 也是要根据文档要求来写的\n    // socket.on('message', data => {\n    //   console.log(data)\n    //   对方给我的消息\n    //   this.messages.push(data)\n    // })\n\n    // <--------------分割线 - 下-------------->\n    // 小智同学功能接口暂时不能实现 中间注释内容为写好内 由于接口问题 功能暂不能实现\n    // 出错时间**2021-02-10**\n\n    // 发送消息\n    // socket.emit('消息类型', 消息内容)\n    // 接收消息\n    // socket.on('消息类型', function (data) {\n    // data 消息\n    // })\n  },\n  methods: {\n    // 发送消息\n    onSend () {\n      // 发送消息\n      // socket.emit('消息类型', 消息内容)\n      // 消息类型要看接口文档要求\n      // 这是要发送的数据对象\n\n      // <--------------分割线 - 上-------------->\n      // 小智同学功能接口暂时不能实现 中间注释内容为写好内 由于接口问题 功能暂不能实现\n      // 这里采用模拟数据 不能发送 直接将文本框输入的内容添加进入数组进行展示伪聊天内容\n      // 出错时间**2021-02-10**\n\n      // const data = {\n      //   msg: this.text, // 聊天的内容\n      //   timestamp: Date.now() // 聊天发送时间戳\n      // }\n      // this.socket.emit('message', data)\n\n      // // 把用户发出去的消息存储到数组中 进行展示聊天内容\n      // this.messages.push(data)\n\n      // <--------------分割线 - 下-------------->\n      // 小智同学功能接口暂时不能实现 中间注释内容为写好内 由于接口问题 功能暂不能实现\n      // 这里采用模拟数据 不能发送 直接将文本框输入的内容添加进入数组进行展示伪聊天内容\n      // 出错时间**2021-02-10**\n\n      // 将文本框输入的内容直接添加进入数组中\n      this.messages.push(this.text)\n\n      // 点击发送按钮之后清空文本框的内容\n      this.text = ''\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n#userChat {\n  // 聊天内容\n  .vanCellGroup {\n    position: fixed;\n    top: 46px;\n    bottom: 53px;\n    left: 0px;\n    right: 0px;\n    overflow-y: auto;\n    background-color: #f5f5f6;\n  }\n  // 输入框\n  .van-field {\n    position: fixed;\n    bottom: 0px;\n    left: 0px;\n    right: 0px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2bcfffb9&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2bcfffb9&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bcfffb9\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}